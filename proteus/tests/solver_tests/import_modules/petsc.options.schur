# use a Schur Complement for the first set of solves

# set petsc ksp object and preconditioner
-ksp_type fgmres
-ksp_atol 1e-20
-ksp_rtol 1e-6
#-ksp_monitor_true_residual
#-pc_type fieldsplit
#-pc_fieldsplit_detect_saddle_point

# ksp options
#-ksp_converged_reason
#-ksp_view  # this command provides lots of diagonistic stuff, but should be turned off when running benchmark tests

# pc options
-pc_fieldsplit_type schur 
-pc_fieldsplit_schur_fact_type full
-pc_fieldsplit_schur_precondition selfp

# direct solver for velocity block - ksp options
-fieldsplit_velocity_ksp_type preonly
-fieldsplit_velocity_pc_type lu
#-fieldsplit_velocity_pc_factor_mat_solver_package superlu_dist
#-fieldsplit_velocity_ksp_converged_reason

# "direct" solver for pressure block
-fieldsplit_pressure_ksp_type gmres
-fieldsplit_pressure_ksp_gmres_restart 500
#-fieldsplit_pressure_ksp_constant_null_space
-fieldsplit_pressure_ksp_max_it 500
-fieldsplit_pressure_ksp_atol 1e-2
-fieldsplit_pressure_ksp_rtol 1e-2

#-fieldsplit_pressure_pc_type asm
#-fieldsplit_pressure_pc_asm_type basic

#-fieldsplit_pressure_sub_ksp_type preonly

#-fieldsplit_pressure_ksp_monitor_true_residual