language: python
env:
- TEST_PROFILE="test.proteus.yaml"
python:
- 2.7
before_install:
- sudo apt-get update -qq
- sudo apt-get install gfortran pv cmake swig libblas-dev liblapack-dev mpich2 libmpich2-dev
install:
- make hashdist
- make stack
- cp .travisprofile.yml stack/examples/proteus.linux2.yaml
- make install 2>&1 | pv -i 15 -n | cat > log.txt
- tail -n 60 log.txt
script:
- set -o pipefail
- make check 2>&1 | pv -i 15 -n | cat >> log.txt
- tail -n 60 log.txt
notifications:
email: false
